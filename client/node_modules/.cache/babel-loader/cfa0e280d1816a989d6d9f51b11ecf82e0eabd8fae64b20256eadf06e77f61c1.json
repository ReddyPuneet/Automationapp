{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Zap,Layers,Clock,Play,Plus,Settings}from'lucide-react';import WorkflowList from'./components/WorkflowList';import WorkflowEditor from'./components/WorkflowEditor';import ExecutionList from'./components/ExecutionList';import api from'./services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[view,setView]=useState('workflows');const[workflows,setWorkflows]=useState([]);const[executions,setExecutions]=useState([]);const[selectedWorkflow,setSelectedWorkflow]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{loadData();},[]);const loadData=async()=>{try{setLoading(true);const[workflowsRes,executionsRes]=await Promise.all([api.getWorkflows(),api.getExecutions()]);setWorkflows(workflowsRes.data);setExecutions(executionsRes.data);}catch(error){console.error('Error loading data:',error);}finally{setLoading(false);}};const handleCreateWorkflow=async()=>{try{const response=await api.createWorkflow({name:'New Workflow',nodes:[],edges:[]});setSelectedWorkflow(response.data);setView('editor');}catch(error){console.error('Error creating workflow:',error);}};const handleEditWorkflow=workflow=>{setSelectedWorkflow(workflow);setView('editor');};const handleSaveWorkflow=async workflow=>{try{await api.updateWorkflow(workflow.id,workflow);loadData();}catch(error){console.error('Error saving workflow:',error);}};const handleDeleteWorkflow=async id=>{if(window.confirm('Are you sure you want to delete this workflow?')){try{await api.deleteWorkflow(id);loadData();}catch(error){console.error('Error deleting workflow:',error);}}};const handleToggleWorkflow=async workflow=>{try{await api.updateWorkflow(workflow.id,{active:!workflow.active});loadData();}catch(error){console.error('Error toggling workflow:',error);}};const handleExecuteWorkflow=async workflow=>{try{await api.executeWorkflow(workflow.id);loadData();}catch(error){console.error('Error executing workflow:',error);}};const handleBackToList=()=>{setSelectedWorkflow(null);setView('workflows');loadData();};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-header\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(Zap,{size:24}),\" AutoFlow\"]})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"sidebar-nav\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"nav-item \".concat(view==='workflows'?'active':''),onClick:()=>{setView('workflows');setSelectedWorkflow(null);},children:[/*#__PURE__*/_jsx(Layers,{size:20}),\"Workflows\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"nav-item \".concat(view==='executions'?'active':''),onClick:()=>setView('executions'),children:[/*#__PURE__*/_jsx(Clock,{size:20}),\"Executions\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[view==='workflows'&&!selectedWorkflow&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Workflows\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:handleCreateWorkflow,children:[/*#__PURE__*/_jsx(Plus,{size:18}),\"New Workflow\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})}):/*#__PURE__*/_jsx(WorkflowList,{workflows:workflows,onEdit:handleEditWorkflow,onDelete:handleDeleteWorkflow,onToggle:handleToggleWorkflow,onExecute:handleExecuteWorkflow})})]}),view==='editor'&&selectedWorkflow&&/*#__PURE__*/_jsx(WorkflowEditor,{workflow:selectedWorkflow,onSave:handleSaveWorkflow,onBack:handleBackToList}),view==='executions'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Executions\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:loadData,children:\"Refresh\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})}):/*#__PURE__*/_jsx(ExecutionList,{executions:executions})})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Zap","Layers","Clock","Play","Plus","Settings","WorkflowList","WorkflowEditor","ExecutionList","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","view","setView","workflows","setWorkflows","executions","setExecutions","selectedWorkflow","setSelectedWorkflow","loading","setLoading","loadData","workflowsRes","executionsRes","Promise","all","getWorkflows","getExecutions","data","error","console","handleCreateWorkflow","response","createWorkflow","name","nodes","edges","handleEditWorkflow","workflow","handleSaveWorkflow","updateWorkflow","id","handleDeleteWorkflow","window","confirm","deleteWorkflow","handleToggleWorkflow","active","handleExecuteWorkflow","executeWorkflow","handleBackToList","className","children","size","concat","onClick","onEdit","onDelete","onToggle","onExecute","onSave","onBack"],"sources":["C:/Users/punit/Desktop/Automationapp/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Zap, Layers, Clock, Play, Plus, Settings } from 'lucide-react';\r\nimport WorkflowList from './components/WorkflowList';\r\nimport WorkflowEditor from './components/WorkflowEditor';\r\nimport ExecutionList from './components/ExecutionList';\r\nimport api from './services/api';\r\n\r\nfunction App() {\r\n  const [view, setView] = useState('workflows');\r\n  const [workflows, setWorkflows] = useState([]);\r\n  const [executions, setExecutions] = useState([]);\r\n  const [selectedWorkflow, setSelectedWorkflow] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [workflowsRes, executionsRes] = await Promise.all([\r\n        api.getWorkflows(),\r\n        api.getExecutions()\r\n      ]);\r\n      setWorkflows(workflowsRes.data);\r\n      setExecutions(executionsRes.data);\r\n    } catch (error) {\r\n      console.error('Error loading data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateWorkflow = async () => {\r\n    try {\r\n      const response = await api.createWorkflow({\r\n        name: 'New Workflow',\r\n        nodes: [],\r\n        edges: []\r\n      });\r\n      setSelectedWorkflow(response.data);\r\n      setView('editor');\r\n    } catch (error) {\r\n      console.error('Error creating workflow:', error);\r\n    }\r\n  };\r\n\r\n  const handleEditWorkflow = (workflow) => {\r\n    setSelectedWorkflow(workflow);\r\n    setView('editor');\r\n  };\r\n\r\n  const handleSaveWorkflow = async (workflow) => {\r\n    try {\r\n      await api.updateWorkflow(workflow.id, workflow);\r\n      loadData();\r\n    } catch (error) {\r\n      console.error('Error saving workflow:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteWorkflow = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this workflow?')) {\r\n      try {\r\n        await api.deleteWorkflow(id);\r\n        loadData();\r\n      } catch (error) {\r\n        console.error('Error deleting workflow:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleToggleWorkflow = async (workflow) => {\r\n    try {\r\n      await api.updateWorkflow(workflow.id, { active: !workflow.active });\r\n      loadData();\r\n    } catch (error) {\r\n      console.error('Error toggling workflow:', error);\r\n    }\r\n  };\r\n\r\n  const handleExecuteWorkflow = async (workflow) => {\r\n    try {\r\n      await api.executeWorkflow(workflow.id);\r\n      loadData();\r\n    } catch (error) {\r\n      console.error('Error executing workflow:', error);\r\n    }\r\n  };\r\n\r\n  const handleBackToList = () => {\r\n    setSelectedWorkflow(null);\r\n    setView('workflows');\r\n    loadData();\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      {/* Sidebar */}\r\n      <div className=\"sidebar\">\r\n        <div className=\"sidebar-header\">\r\n          <h1><Zap size={24} /> AutoFlow</h1>\r\n        </div>\r\n        <nav className=\"sidebar-nav\">\r\n          <button \r\n            className={`nav-item ${view === 'workflows' ? 'active' : ''}`}\r\n            onClick={() => { setView('workflows'); setSelectedWorkflow(null); }}\r\n          >\r\n            <Layers size={20} />\r\n            Workflows\r\n          </button>\r\n          <button \r\n            className={`nav-item ${view === 'executions' ? 'active' : ''}`}\r\n            onClick={() => setView('executions')}\r\n          >\r\n            <Clock size={20} />\r\n            Executions\r\n          </button>\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"main-content\">\r\n        {view === 'workflows' && !selectedWorkflow && (\r\n          <>\r\n            <div className=\"header\">\r\n              <h2>Workflows</h2>\r\n              <button className=\"btn btn-primary\" onClick={handleCreateWorkflow}>\r\n                <Plus size={18} />\r\n                New Workflow\r\n              </button>\r\n            </div>\r\n            <div className=\"content\">\r\n              {loading ? (\r\n                <div className=\"loading\"><div className=\"spinner\"></div></div>\r\n              ) : (\r\n                <WorkflowList \r\n                  workflows={workflows}\r\n                  onEdit={handleEditWorkflow}\r\n                  onDelete={handleDeleteWorkflow}\r\n                  onToggle={handleToggleWorkflow}\r\n                  onExecute={handleExecuteWorkflow}\r\n                />\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {view === 'editor' && selectedWorkflow && (\r\n          <WorkflowEditor \r\n            workflow={selectedWorkflow}\r\n            onSave={handleSaveWorkflow}\r\n            onBack={handleBackToList}\r\n          />\r\n        )}\r\n\r\n        {view === 'executions' && (\r\n          <>\r\n            <div className=\"header\">\r\n              <h2>Executions</h2>\r\n              <button className=\"btn btn-secondary\" onClick={loadData}>\r\n                Refresh\r\n              </button>\r\n            </div>\r\n            <div className=\"content\">\r\n              {loading ? (\r\n                <div className=\"loading\"><div className=\"spinner\"></div></div>\r\n              ) : (\r\n                <ExecutionList executions={executions} />\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}